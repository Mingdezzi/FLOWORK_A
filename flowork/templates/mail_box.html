<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>메일함</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/journal/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container my-4">
        {% include '_header.html' %}
        {% include '_navigation.html' %}
        <div class="row">
            <div class="col-3">
                <div class="d-grid gap-2">
                    <a href="{{ url_for('network.mail_compose') }}" class="btn btn-primary">쓰기</a>
                    <a href="{{ url_for('network.mail_box', type='inbox') }}" class="btn {{ 'btn-secondary' if box_type=='inbox' else 'btn-outline-secondary' }}">받은편지함</a>
                    <a href="{{ url_for('network.mail_box', type='sent') }}" class="btn {{ 'btn-secondary' if box_type=='sent' else 'btn-outline-secondary' }}">보낸편지함</a>
                </div>
            </div>
            <div class="col-9">
                <div class="card">
                    <div class="card-header">{{ '받은편지함' if box_type=='inbox' else '보낸편지함' }}</div>
                    <table class="table table-hover mb-0">
                        <thead class="table-light"><tr><th>상대방</th><th>제목</th><th>날짜</th></tr></thead>
                        <tbody>
                            {% for m in pagination.items %}
                            <tr onclick="location.href='{{ url_for('network.mail_detail', id=m.id) }}';" style="cursor:pointer;">
                                <td>{{ m.sender_store.store_name if box_type=='inbox' else m.receiver_store.store_name }}</td>
                                <td>{{ m.title }}</td>
                                <td>{{ m.created_at.strftime('%Y-%m-%d') }}</td>
                            </tr>
                            {% else %}
                            <tr><td colspan="3" class="text-center p-3">메일 없음</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>